{% extends "base.html" %}

{% block page_title %}Support This Project{% endblock %}

{% block content %}
<!-- PayPal Donation Card -->
<div class="card" style="margin-bottom: 24px;">
    <div class="card-header">
        <div class="card-title">
            <i class="fab fa-paypal"></i>
            <span>Donate via PayPal</span>
        </div>
    </div>
    <div class="card-body">
        <p style="margin-bottom: 16px;">
            Daygle Mail Archiver is free and open source. If you find it useful, please consider supporting its development.
            Your donation helps maintain and improve this project. Every contribution is greatly appreciated!
        </p>
        
        <form action="https://www.paypal.com/donate" method="post" target="_blank" id="donationForm">
            <input type="hidden" name="business" value="daygle@daygle.net" />
            <input type="hidden" name="no_recurring" value="0" />
            <input type="hidden" name="item_name" value="Daygle Mail Archiver Development" />
            <input type="hidden" name="currency_code" value="AUD" id="currencyCodeInput" />
            
            <div class="form-group">
                <label for="amount" class="form-label">Donation Amount</label>
                <div style="display: flex; gap: 12px; align-items: flex-start;">
                    <div style="display: flex; gap: 0; flex: 1; max-width: 300px;">
                        <span id="currencySymbol" style="padding: 10px 16px; background: var(--background-secondary); border: 1px solid var(--border-color); border-right: none; border-radius: var(--radius-md) 0 0 var(--radius-md); color: var(--text-secondary);">$</span>
                        <input type="number" class="form-control" id="amount" name="amount" min="1" step="0.01" placeholder="10.00" style="border-radius: 0 var(--radius-md) var(--radius-md) 0; flex: 1;">
                    </div>
                    <div style="flex: 0 0 auto; min-width: 200px;">
                        <select class="form-select" id="currency" name="currency">
                            <option value="AUD" data-symbol="$" selected>AUD - Australian Dollar</option>
                            <option value="USD" data-symbol="$">USD - US Dollar</option>
                            <option value="EUR" data-symbol="€">EUR - Euro</option>
                            <option value="GBP" data-symbol="£">GBP - British Pound</option>
                            <option value="CAD" data-symbol="$">CAD - Canadian Dollar</option>
                            <option value="JPY" data-symbol="¥">JPY - Japanese Yen</option>
                            <option value="CHF" data-symbol="CHF">CHF - Swiss Franc</option>
                            <option value="SEK" data-symbol="kr">SEK - Swedish Krona</option>
                            <option value="NOK" data-symbol="kr">NOK - Norwegian Krone</option>
                            <option value="DKK" data-symbol="kr">DKK - Danish Krone</option>
                            <option value="NZD" data-symbol="$">NZD - New Zealand Dollar</option>
                            <option value="MXN" data-symbol="$">MXN - Mexican Peso</option>
                            <option value="SGD" data-symbol="$">SGD - Singapore Dollar</option>
                            <option value="HKD" data-symbol="$">HKD - Hong Kong Dollar</option>
                            <option value="INR" data-symbol="₹">INR - Indian Rupee</option>
                            <option value="BRL" data-symbol="R$">BRL - Brazilian Real</option>
                        </select>
                    </div>
                </div>
                <small class="form-text">Enter any amount you wish to donate</small>
            </div>
            
            <button type="submit" class="btn btn-primary btn-lg">
                <i class="fab fa-paypal"></i> Donate with PayPal
            </button>
        </form>
    </div>
</div>

<!-- Other Ways to Support Card -->
<div class="card" style="margin-bottom: 24px;">
    <div class="card-header">
        <div class="card-title">
            <i class="fas fa-hands-helping"></i>
            <span>Other Ways to Support</span>
        </div>
    </div>
    <div class="card-body">
        <ul style="padding-left: 24px; margin-bottom: 0;">
            <li style="margin-bottom: 8px;">Star the project on GitHub</li>
            <li style="margin-bottom: 8px;">Report bugs and suggest features</li>
            <li style="margin-bottom: 8px;">Contribute code or documentation</li>
            <li style="margin-bottom: 8px;">Share the project with others</li>
        </ul>
    </div>
</div>

<!-- Why Donate Card -->
<div class="card">
    <div class="card-header">
        <div class="card-title">
            <i class="fas fa-heart"></i>
            <span>Why Donate?</span>
        </div>
    </div>
    <div class="card-body">
        <ul style="padding-left: 24px; margin-bottom: 16px;">
            <li style="margin-bottom: 8px;">Supports ongoing development</li>
            <li style="margin-bottom: 8px;">Helps with server costs</li>
            <li style="margin-bottom: 8px;">Enables new features</li>
            <li style="margin-bottom: 8px;">Maintains documentation</li>
            <li style="margin-bottom: 8px;">Provides bug fixes</li>
        </ul>
        
        <div class="alert alert-info" style="margin-bottom: 0;">
            <strong>Thank you!</strong><br>
            Your support makes this project possible.
        </div>
    </div>
</div>

<script>
    // Currency selector handler
    (function() {
        const currencySelect = document.getElementById('currency');
        const currencySymbol = document.getElementById('currencySymbol');
        const currencyCodeInput = document.getElementById('currencyCodeInput');
        
        currencySelect.addEventListener('change', function() {
            const selectedOption = this.options[this.selectedIndex];
            const symbol = selectedOption.getAttribute('data-symbol');
            const currencyCode = selectedOption.value;
            
            // Update the displayed symbol
            currencySymbol.textContent = symbol;
            
            // Update the hidden input for PayPal
            currencyCodeInput.value = currencyCode;
        });
    })();
</script>
{% endblock %}
